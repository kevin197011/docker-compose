services:
  rancher-server:
    image: rancher/rancher:latest
    container_name: rancher-server
    restart: unless-stopped
    privileged: true
    user: root
    environment:
      CATTLE_BOOTSTRAP_PASSWORD: ${CATTLE_BOOTSTRAP_PASSWORD:-10mTsybsmfJVnZhH}
    volumes:
      - ./data/rancher:/var/lib/rancher
    ports:
      - "80:80"
      - "443:443"
    tmpfs:
      - /run
      - /var/run
    security_opt:
      - seccomp:unconfined
      - apparmor:unconfined
